{"version":3,"sources":["components/controls/controls.tsx","components/slider/slider.tsx","components/controls/controls-data.ts","components/chart/chart.tsx","components/table/table.tsx","components/shudown-range/shutdown-range.tsx","components/simulator/use-generate-config.ts","components/simulator/data-generator.ts","components/simulator/optimal-weeks-generator.ts","components/headline/headline.tsx","components/simulator/simulator.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["Actions","useStyles","makeStyles","slider","width","Slider","title","onChange","percent","props","classes","getValue","value","undefined","Grid","container","direction","alignItems","spacing","item","Typography","min","className","aria-labelledby","valueLabelDisplay","valueLabelFormat","onChangeCommitted","event","name","max","id","variant","sliders","step","defaultValue","initialState","reduce","sliderValues","infectionStartDate","Date","initialNumberOfCases","totalPopulation","totalHospitalBeds","theme","createStyles","root","paddingTop","paddingLeft","paddingRight","divider","marginTop","marginBottom","reducer","state","action","type","CHANGE_SLIDER_VALUE","sliderName","CHANGE_START_DATE","CHANGE_POPULATION","CHANGE_BEDS","Number","CHANGE_INITIAL_NUMBER_OF_CASES","Controls","React","useReducer","dispatch","useEffect","onSliderChange","Paper","elevation","TextField","label","target","map","key","padding","chartContainer","height","Chart","config","containerProps","highcharts","Highcharts","options","gridContainer","renderGridCell","data","isShutdown","cellElement","bgColor","text","Table","columns","customizeCellValue","cellInfo","shortNum","elementAttr","class","allowColumnReordering","allowColumnResizing","showRowLines","dataSource","showBorders","c","dataField","cellRender","customizeText","mode","marginLeft","marginLeftAuto","ShutdownRange","shutdownWeeks","startDate","computeOptimalWeeks","useState","start","end","addWeeks","ranges","setRanges","_shutdownWeeks","setShutdownWeeks","isWeekView","setIsWeekView","shutdown","range","differenceInWeeks","i","Array","fill","getShutdownWeeks","shutdownRanges","getShutdownRanges","removeRange","idx","splice","changeRange","date","onWeekToggle","evt","checked","justify","Checkbox","color","week","Switch","IconButton","onClick","aria-label","Button","startIcon","rangeStart","length","_","currentRange","push","Week","params","weekStartDate","weekNum","healthy","newInfected","totalInfected","currentlyInfected","recovered","dead","hospitalized","Object","assign","this","generateData","controls","R0","shutdownR0","mortalityRate","mortalityRateOverflow","hospitalizationRate","lastWeekNum","weeks","shutdowns","r","fractionHealthy","mortality","weightedAverage","Math","floor","p0","p1","w0","w1","some","isWithinInterval","CHANGE_CONTROL","CHANGE_SHUTDOWN","generateChartConfig","weeksToGo","currentWeekNum","differenceInCalendarWeeks","getWeeksToGo","series","forEach","obj","keys","visible","x","y","values","createSeries","subtitle","yAxis","xAxis","gridLineWidth","plotBands","s","from","to","plotLines","plotOptions","line","lineWidth","tooltip","formatter","format","console","log","getOptimalWeeks","currentNewInfected","shutdownsToZero","ceil","getDeprecatingOptimalWeeks","current","next","next2","computeNextWeek","prev","prev2","prev3","result","round","flexGrow","Headline","grow","flexBasis","display","content","flex","minHeight","TABLE_COLUMNS","Simulator","useGenerateConfig","onControlChange","onShutdownChange","optimalWeeks","setOptimalWeeks","utils","DateFnsUtils","numWeeks","eachWeekOfInterval","menuButton","marginRight","App","AppBar","position","Toolbar","edge","Container","maxWidth","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.607681d3.chunk.js","sourcesContent":["import React, { useEffect } from 'react';\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport { Grid } from '@material-ui/core';\nimport { Button, Typography } from '@material-ui/core';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport {\n    KeyboardDatePicker,\n  } from '@material-ui/pickers';\nimport {Slider} from '../slider/slider';\nimport {sliders} from './controls-data';\n\nexport interface ControlState {\n    R0?: number;\n    shutdownR0?: number;\n    mortalityRate?: number;\n    mortalityRateOverflow?: number;\n    hospitalizationRate?: number;\n    hospitalStayInWeeks?: number;\n    infectionStartDate?: Date;\n    initialNumberOfCases?: number;\n    totalPopulation?: number;\n    totalHospitalBeds?: number;\n}\n\ninterface Props {\n    onChange?: (controls: ControlState) => void;\n}\n\nenum Actions {\n    CHANGE_SLIDER_VALUE,\n    CHANGE_START_DATE,\n    CHANGE_POPULATION,\n    CHANGE_INITIAL_NUMBER_OF_CASES,\n    CHANGE_BEDS\n}\n\nconst initialState: ControlState = sliders.reduce((sliderValues, slider) => {\n    sliderValues[slider.name] = slider.defaultValue;\n    return sliderValues;\n}, {});\ninitialState.infectionStartDate = new Date('1/1/2020');\ninitialState.initialNumberOfCases = 5;\ninitialState.totalPopulation = 331000000;\ninitialState.totalHospitalBeds = 1000000;\n\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      paddingTop: theme.spacing(4),\n      paddingLeft: theme.spacing(6),\n      paddingRight: theme.spacing(2),\n      width: 250\n    },\n    divider: {\n        marginTop: theme.spacing(2),\n        marginBottom: theme.spacing(2)\n    }\n  }),\n);\n\n\n\nfunction reducer(state, action) {\n    switch(action.type) {\n        case Actions.CHANGE_SLIDER_VALUE:\n            return {\n                ...state,\n                [action.sliderName]: action.value\n            }\n        case Actions.CHANGE_START_DATE:\n            return {\n                ...state,\n                infectionStartDate: action.infectionStartDate\n            }\n        case Actions.CHANGE_POPULATION:\n            return {\n                ...state,\n                totalPopulation: action.value\n            }\n        case Actions.CHANGE_BEDS:\n            return {\n                ...state,\n                totalHospitalBeds: Number(action.value)\n            }\n        case Actions.CHANGE_INITIAL_NUMBER_OF_CASES:\n            return {\n                ...state,\n                initialNumberOfCases: Number(action.value)\n            }\n        \n        default:\n            return state;\n    }\n}\n\nexport const Controls: React.FC<Props> = ({ onChange }) => {\n    const classes = useStyles();\n    const [state, dispatch] = React.useReducer(reducer, initialState);\n    useEffect(() => {\n        onChange(state);\n    }, [state]);\n\n    const onSliderChange = (sliderName: string, value?) => {\n        dispatch({\n            type: Actions.CHANGE_SLIDER_VALUE,\n            sliderName,\n            value\n        });\n    }\n\n    const onDateChange = (infectionStartDate: Date) => {\n        dispatch({\n            type: Actions.CHANGE_START_DATE,\n            infectionStartDate\n        })\n    }\n\n    const onPopulationChange = (event) => {\n        dispatch({\n            type: Actions.CHANGE_POPULATION,\n            value: event.target.value\n        })\n    }\n\n    const onNumberOfCasesChanged = (event) => {\n        dispatch({\n            type: Actions.CHANGE_INITIAL_NUMBER_OF_CASES,\n            value: event.target.value\n        })\n    }\n\n    const onBedsChanged = (event) => {\n        dispatch({\n            type: Actions.CHANGE_BEDS,\n            value: event.target.value\n        })\n    }\n\n    return (\n            <Paper elevation={3} className={classes.root}>\n                <Grid container direction=\"column\" alignItems=\"flex-start\" spacing={8}>\n                    <Grid item>\n                        <Typography>Control Values</Typography>\n                    </Grid>\n                    <Grid item>\n                        <TextField label=\"Total population\"\n                            onChange={onPopulationChange}\n                            value={state.totalPopulation}></TextField>\n                    </Grid>\n                    <Grid item>\n                        <KeyboardDatePicker \n                            onChange={onDateChange}\n                            variant=\"inline\" value={state.infectionStartDate} label='Start date'></KeyboardDatePicker>\n                    </Grid>\n                    <Grid item>\n                        <TextField label=\"Initial infected people\"\n                            onChange={onNumberOfCasesChanged}\n                            value={state.initialNumberOfCases}></TextField>\n                    </Grid>\n                    <Grid item>\n                        <TextField label=\"Total hospital beds\"\n                            onChange={onBedsChanged}\n                            value={state.totalHospitalBeds}></TextField>\n                    </Grid>\n                    {sliders.map(slider => <Grid item key={slider.name}>\n                        <Slider {...slider} onChange={onSliderChange}></Slider>\n                    </Grid>)}\n                </Grid>\n            </Paper>\n               \n    )\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport {Slider as MaterialSlider, SliderProps as MaterialSliderProps} from '@material-ui/core';\nimport { Grid } from '@material-ui/core';\nimport './slider.css';\n\ninterface SliderProps {\n    title: string;\n    percent?: boolean;\n    onChange: (name: string, value: number) => void;\n}\n\nconst useStyles = makeStyles({\n    slider: {\n      width: 150,\n    },\n  });\n  \n\nexport const Slider: React.FC<SliderProps & Omit<MaterialSliderProps, 'onChange'>> = ({title, onChange, percent = false, ...props}) => {\n    const classes = useStyles()\n\n    const getValue = (value: number | undefined) => {\n        if(value === undefined) {\n            return '';\n        }\n\n        if(percent) {\n            return `${value}%`;\n        }\n        return value;\n    }\n\n    const onSliderChange = (event, value?) => {\n        onChange(props.name, value);\n    }\n\n    return (\n        <Grid container direction=\"column\" alignItems=\"flex-start\" spacing={0}>\n            \n            <Grid item container direction=\"row\" spacing={1} alignItems=\"center\">\n                <Grid item>\n                    <Typography>\n                        {getValue(props.min)}\n                    </Typography>\n                </Grid>\n                <Grid item className={classes.slider}>\n                    <MaterialSlider\n                        aria-labelledby=\"discrete-slider\"\n                        valueLabelDisplay=\"on\"\n                        valueLabelFormat={getValue}\n                        onChangeCommitted={onSliderChange}\n                        {...props}\n                    />\n                </Grid>\n                <Grid>\n                    <Typography>\n                        {getValue(props.max)}\n                    </Typography>\n                </Grid>\n                \n            </Grid>\n            <Grid item>\n                <Typography id=\"discrete-slider\" variant=\"caption\">\n                    {title}\n                </Typography>\n            </Grid>\n        </Grid>\n    )\n}","export const sliders = [\n    {\n        title: 'Average spread (R0)',\n        name: 'R0',\n        min: 0,\n        max: 3.0,\n        step: 0.1,\n        defaultValue: 2.2\n    },\n    {\n        title: 'Average spread shutdown (R0)',\n        name: 'shutdownR0',\n        min: 0,\n        max: 3.0,\n        step: 0.1,\n        defaultValue: 1.05\n    },\n    {\n        title: 'Mortality Rate',\n        name: 'mortalityRate',\n        min: 0,\n        max: 5.0,\n        step: 0.1,\n        defaultValue: 0.5,\n        percent: true\n    },\n    {\n        title: 'Mortality Rate Overflow',\n        name: 'mortalityRateOverflow',\n        min: 0,\n        max: 7.0,\n        step: 0.5,\n        defaultValue: 3.0,\n        percent: true\n    },\n    {\n        title: 'Hospitalization Rate',\n        name: 'hospitalizationRate',\n        min: 0,\n        max: 25,\n        step: 1,\n        defaultValue: 15,\n        percent: true\n    },\n    {\n        title: 'Hospital stay in weeks',\n        name: 'hospitalStayInWeeks',\n        min: 0,\n        max: 2,\n        step: 0.1,\n        defaultValue: 0.3\n    }\n];","import React from 'react';\nimport Highcharts from 'highcharts'\nimport HighchartsReact from 'highcharts-react-official'\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport { Paper } from '@material-ui/core';\n\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      padding: theme.spacing(4),\n      width: '100%'\n    },\n    divider: {\n        marginTop: theme.spacing(2),\n        marginBottom: theme.spacing(2)\n    },\n    chartContainer: {\n        height: '100%'\n    }\n  }),\n);\n\ninterface Props {\n    config: any;\n}\n\nexport const Chart: React.FC<Props> = ({ config }) => {\n    const classes = useStyles();\n\n    return <Paper elevation={3} className={classes.root}>\n        <HighchartsReact\n            containerProps = {{ className: classes.chartContainer }}\n            highcharts={Highcharts}\n            options={config}\n        />\n    </Paper>;\n}","import React from 'react';\nimport DataGrid, { Scrolling, Column } from 'devextreme-react/data-grid';\nimport 'devextreme/dist/css/dx.common.css';\nimport 'devextreme/dist/css/dx.light.css';\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport { Paper } from '@material-ui/core';\nimport shortNum from 'short-number';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      padding: theme.spacing(4),\n      width: '100%',\n      height: '100%'\n    },\n    divider: {\n        marginTop: theme.spacing(2),\n        marginBottom: theme.spacing(2)\n    },\n    gridContainer: {\n        height: 600\n    }\n  }),\n);\n\ninterface Props {\n    columns: string[];\n    data: {[key: string]: number | string}[]\n}\n\nconst renderGridCell = (data) => {\n    if(data.data.isShutdown) {\n        data.cellElement.bgColor = '#ffcccb';\n    }\n\n    return data.text;\n}\n\nexport const Table: React.FC<Props> = ({ columns, data }) => {\n    const classes = useStyles();\n\n    const customizeCellValue = (cellInfo) => {\n        if(typeof cellInfo.value === 'number') {\n            return shortNum(cellInfo.value) + '';\n        }\n\n        return cellInfo.value + '';\n    }\n\n    return <Paper elevation={3} className={classes.root}>\n        <DataGrid\n            elementAttr={{\n                class: classes.gridContainer\n            }}\n            allowColumnReordering={true}\n            allowColumnResizing={true}\n            showRowLines={true}\n            // @ts-ignore\n            dataSource={data}\n            showBorders={true}>\n            {columns.map(c => <Column \n                dataField={c}\n                cellRender={renderGridCell}\n                customizeText={customizeCellValue}/>)}\n            <Scrolling mode=\"virtual\" />\n        </DataGrid>\n    </Paper>\n}\n","import React from 'react';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardTimePicker,\n  KeyboardDatePicker,\n} from '@material-ui/pickers';\nimport Checkbox, { CheckboxProps } from '@material-ui/core/Checkbox';\nimport { addWeeks, eachWeekOfInterval, differenceInWeeks } from 'date-fns';\nimport Grid from '@material-ui/core/Grid';\nimport { Button, Typography } from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport DateRangeIcon from '@material-ui/icons/DateRange';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport RotateLeftIcon from '@material-ui/icons/RotateLeft';\nimport Paper from '@material-ui/core/Paper';\nimport Switch from '@material-ui/core/Switch';\n\n\nexport interface Range {\n    start: Date,\n    end: Date\n};\n\nexport type ShutdownRangeState = Range[];\n\ninterface Props {\n    onChange: (ranges: Range[]) => void;\n    computeOptimalWeeks: () => void;\n    shutdownWeeks?: boolean[];\n    startDate?: Date;\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n        padding: theme.spacing(4)\n    },\n    marginBottom: {\n        marginBottom: theme.spacing(2)\n    },\n    marginTop: {\n        marginTop: theme.spacing(2)\n    },\n    marginLeft: {\n        marginLeft: theme.spacing(2)\n    },\n    marginLeftAuto: {\n        marginLeft: 'auto'\n    }\n  }),\n);\n\nexport const ShutdownRange: React.FC<Props> = ({ shutdownWeeks, startDate, computeOptimalWeeks, onChange }) => {\n    const classes = useStyles();\n    \n    const [ranges, setRanges] = React.useState<ShutdownRangeState>([{\n        start: new Date(),\n        end: addWeeks(new Date(), 12)\n    }]);\n    const [_shutdownWeeks, setShutdownWeeks] = React.useState([]);\n    const [isWeekView, setIsWeekView] = React.useState(false);\n\n    React.useEffect(() => {\n        onChange(ranges);\n    }, [ranges]);\n\n    React.useEffect(() => {\n        setShutdownWeeks(getShutdownWeeks(ranges, startDate));\n    }, [isWeekView])\n\n    React.useEffect(() => {\n        if((!shutdownWeeks || !startDate)) {\n            return;\n        }\n        const shutdownRanges = getShutdownRanges(startDate, shutdownWeeks);\n        setRanges(shutdownRanges);\n        setShutdownWeeks(shutdownWeeks);\n    }, [shutdownWeeks, startDate]);\n\n    const addRange = () => {\n        let rangeStart = ranges[ranges.length - 1]?.end || new Date();\n        const range = {\n            start: rangeStart,\n            end: rangeStart\n        }\n        setRanges([\n            ...ranges,\n            range\n        ]);\n    }\n\n    const removeRange = (idx: number) => () => {\n        ranges.splice(idx, 1);\n        setRanges([...ranges]);\n    }\n\n    const changeRange = range => type => date => {\n        range[type] = date;\n        if(type === 'start' && range.end < date) {\n            range.end = date;\n        }\n        setRanges([...ranges]);\n    }\n\n    const onWeekViewToggle = (evt) => {\n        setIsWeekView(evt.target.checked);\n    }\n\n    const onWeekToggle = (evt) => {\n        _shutdownWeeks[Number(evt.target.id)] = evt.target.checked;\n        let ranges = getShutdownRanges(startDate, _shutdownWeeks);\n        setShutdownWeeks(_shutdownWeeks);\n        setRanges(ranges);\n    }\n\n    const renderRanges = () => ranges.map((range, idx) => <Grid container item direction=\"row\" spacing={4} alignItems=\"center\">\n        <Grid item><KeyboardDatePicker variant=\"inline\" onChange={changeRange(range)('start')}  value={range.start} label='Start'></KeyboardDatePicker></Grid>\n        <Grid item><KeyboardDatePicker variant=\"inline\" onChange={changeRange(range)('end')}  value={range.end} label='End'></KeyboardDatePicker></Grid>\n        <Grid item>\n            <IconButton onClick={removeRange(idx)} aria-label=\"delete\">\n                <DeleteIcon />\n            </IconButton>\n        </Grid>\n    </Grid>);\n\n    const renderWeeks = () => <Grid item container direction=\"row\">\n        {_shutdownWeeks.map((week, idx) => \n            <Grid item>\n                <Grid container alignItems=\"center\">\n                    <Switch color=\"primary\" id={idx + ''} checked={week} onChange={onWeekToggle}></Switch>\n                    <Typography variant=\"caption\">{`Week ${idx + 1}`}</Typography>\n                </Grid>\n            </Grid>\n        )}\n    </Grid>\n\n    return (\n        <Paper elevation={3} className={classes.root}>\n            <Grid container direction=\"column\" alignItems=\"flex-start\" spacing={2}>\n                <Grid container alignItems=\"center\" justify=\"space-between\">\n                    <Typography className={classes.marginBottom}>Shutdown Dates</Typography>\n                    <Grid item>\n                        <Grid container alignItems=\"center\">\n                            <Checkbox color=\"primary\" onChange={onWeekViewToggle}></Checkbox>\n                            <Typography variant=\"body2\">Week view</Typography>\n                        </Grid>\n                    </Grid>\n                </Grid>\n                {(isWeekView) ? renderWeeks() : renderRanges()}\n                <Grid container item className={classes.marginTop} spacing={2} alignItems=\"center\">\n                    <Button variant=\"contained\" startIcon={<AddIcon />} onClick={addRange}>Add</Button>\n                    <Button variant=\"contained\" className={classes.marginLeft}\n                        startIcon={<RotateLeftIcon />} onClick={_ => setRanges([])}>Reset</Button>\n                    <Button className={classes.marginLeft}\n                        variant=\"contained\" startIcon={<DateRangeIcon />} onClick={computeOptimalWeeks}>Optimize Shutdowns</Button>\n                </Grid>\n            </Grid>\n        </Paper>\n    )\n}\n\n\nfunction getShutdownRanges(startDate: Date, shutdownWeeks: boolean[]): Range[] {\n    let ranges = [];\n    let currentRange = null;\n    for(let i = 0; i<shutdownWeeks.length; i++) {\n        if(!shutdownWeeks[i] && currentRange) {\n            ranges.push(currentRange);\n            currentRange = null;\n        }\n\n        if(shutdownWeeks[i]) {\n            if(currentRange) {\n                currentRange.end = addWeeks(currentRange.end, 1);\n            } else {\n                currentRange = {\n                    start: addWeeks(startDate, i),\n                    end: addWeeks(startDate, i+1)\n                }\n            }\n        }\n    }\n    if(currentRange) {\n        ranges.push(currentRange);\n    }\n\n    return ranges;\n}\n\nfunction getShutdownWeeks(ranges, startDate) {\n    return ranges.reduce((shutdown, range) => {\n        let start = differenceInWeeks(range.start, startDate);\n        let end = differenceInWeeks(range.end, startDate);\n        for(let i = start; i <= end; i++) {\n            shutdown[i] = true;\n        }\n        return shutdown;\n    }, Array(104).fill(false));\n}\n\nexport function getNumShutdownWeeks(ranges) {\n    return ranges.reduce((numWeeks, range) => {\n        return numWeeks + eachWeekOfInterval(range).length;\n    }, 0)\n}","import React, { useReducer, useEffect } from 'react';\nimport shortNum from 'short-number';\nimport { format, differenceInCalendarWeeks } from 'date-fns';\nimport { SimulatorInputState, generateData} from './data-generator';\nimport { ShutdownRangeState } from '../shudown-range/shutdown-range';\n\nenum Actions {\n    CHANGE_CONTROL,\n    CHANGE_SHUTDOWN\n}\n\nconst reducer = (state: SimulatorInputState, action) => {\n    switch(action.type) {\n        case Actions.CHANGE_CONTROL:\n            return {\n                ...state,\n                controls: action.controls\n            }\n        case Actions.CHANGE_SHUTDOWN:\n            return {\n                ...state,\n                shutdowns: action.shutdowns\n            }\n        \n        default:\n            return state;\n    }\n}\n\nexport const useGenerateConfig = (): [SimulatorInputState, any, any, any] => {\n    const [state, dispatch] = useReducer(reducer, {\n        controls: {},\n        shutdowns: []\n    });\n    return [\n        state,\n        generateChartConfig(state),\n        (controls) => dispatch({type: Actions.CHANGE_CONTROL, controls}),\n        (shutdowns) => dispatch({type: Actions.CHANGE_SHUTDOWN, shutdowns})\n    ];\n}\n\n\n\n\nfunction generateChartConfig(state: SimulatorInputState) { \n    // TODO: Generate chart config here.\n    let {weeks, lastWeekNum} = generateData(state);\n    let weeksToGo = getWeeksToGo(lastWeekNum, state.controls.infectionStartDate);\n    let series = createSeries(weeks);\n    const options = {\n        subtitle: {\n            text: ''\n        },\n        title: {\n          text: ``,\n        },\n        yAxis: {\n            type: 'logarithmic',\n            title: {\n                text: 'Number of people'\n            },\n        },\n        xAxis: {\n            type: 'datetime',\n            title: {\n                text: 'Date'\n            },\n            gridLineWidth: 1,\n            plotBands: createShutdownBands(state.shutdowns),\n            plotLines: [{\n                value: weeks[lastWeekNum]?.weekStartDate,\n                color: '#013220'\n            }]\n        },\n        plotOptions: {\n            line: {\n                lineWidth: 5\n            }\n        },\n        tooltip: {\n            formatter: function () {\n                return `<b>${this.series.name}</b>:${shortNum(this.y)} <br>` +\n                    `${format(this.x, 'do MMM y')}`;\n            }\n        },\n        series\n    }\n\n    console.log(options);\n    return {\n        config: options,\n        weeks,\n        weeksToGo\n    };\n}\n\nfunction createShutdownBands(shutdowns: ShutdownRangeState) {\n    return shutdowns.map(s => {\n        return {\n            color: '#ffcccb',\n            from: s.start,\n            to: s.end\n        };\n    })\n}\n\n\nfunction createSeries(data) {\n    let series = {};\n    data.forEach(obj => {\n        Object.keys(obj).forEach(key => {\n            series[key] = series[key] || {name: key, data: [], visible: false};\n            series[key].data.push({\n                x: obj.weekStartDate,\n                y: obj[key]\n            });\n        });\n    });\n    delete series['week'];\n    delete series['weekNum'];\n\n    series['totalInfected'].visible = true;\n    series['dead'].visible = true;\n    series['newInfected'].visible = true;\n    return Object.values(series);\n}\n\nfunction getWeeksToGo(lastWeekNum, startDate) {\n    const currentWeekNum = differenceInCalendarWeeks(new Date(), startDate);\n    return lastWeekNum - currentWeekNum;\n}","import { addWeeks, isWithinInterval } from 'date-fns';\nimport { ControlState } from '../controls/controls';\nimport { ShutdownRangeState } from '../shudown-range/shutdown-range';\n\nexport interface SimulatorInputState {\n    controls: ControlState;\n    shutdowns: ShutdownRangeState;\n}\n\nexport class Week {\n    weekStartDate: Date;\n    weekNum: number;\n    healthy: number = 0;\n    newInfected: number = 0;\n    totalInfected: number = 0;\n    currentlyInfected = 0;\n    recovered = 0;\n    dead = 0;\n    hospitalized = 0;\n    isShutdown: boolean = false;\n\n    constructor(params = {}) {\n        Object.assign(this, params);\n    }\n}\n\nexport function generateData(state: SimulatorInputState) {\n    let {\n        totalPopulation,\n        infectionStartDate,\n        R0,\n        shutdownR0,\n        mortalityRate,\n        mortalityRateOverflow,\n        initialNumberOfCases,\n        hospitalizationRate,\n        totalHospitalBeds } = state.controls;\n    mortalityRate = mortalityRate / 100;\n    mortalityRateOverflow = mortalityRateOverflow / 100;\n    hospitalizationRate = hospitalizationRate / 100;\n\n    let weeks = [new Week({\n        weekStartDate: infectionStartDate,\n        weekNum: 0,\n        healthy: totalPopulation - initialNumberOfCases,\n        newInfected: initialNumberOfCases,\n        totalInfected: initialNumberOfCases,\n        currentlyInfected: initialNumberOfCases,\n        recovered: 0,\n        dead: 0,\n        hospitalized: 0\n    })];\n    let lastWeekNum;\n\n    for(let i=1; i<104; i++) {\n        weeks[i] = new Week();\n        weeks[i].weekStartDate = addWeeks(infectionStartDate, i);\n        weeks[i].weekNum = i;\n        weeks[i].isShutdown = isShutdown(weeks[i].weekStartDate, state.shutdowns);\n        let r = (weeks[i].isShutdown)\n            ? shutdownR0 \n            : R0;\n\n        let fractionHealthy = (weeks[i-1].healthy) / totalPopulation;\n        let mortality = (weeks[i-1].hospitalized < totalHospitalBeds)\n            ? mortalityRate\n            : weightedAverage(mortalityRate, mortalityRateOverflow,\n                totalHospitalBeds, weeks[i-1].hospitalized - totalHospitalBeds);\n\n        weeks[i].newInfected = Math.floor(weeks[i-1].newInfected * r * fractionHealthy);\n        weeks[i].currentlyInfected = Math.floor(weeks[i].newInfected + weeks[i-1].newInfected\n                + ((i >= 2) ? weeks[i-2].newInfected : 0));\n        weeks[i].totalInfected = weeks[i-1].totalInfected + weeks[i].newInfected;\n\n        // 3 weeks later patients either die or recover.\n        if(i >= 3) {\n            weeks[i].dead = Math.floor(weeks[i-1].dead + weeks[i - 3].newInfected * mortality);\n            weeks[i].recovered = Math.floor(weeks[i-1].recovered + (weeks[i -3].newInfected *  ( 1 - mortality)));\n        }\n        if(i > 2) {\n            weeks[i].hospitalized =  Math.floor(weeks[i -2].newInfected * hospitalizationRate);\n        }\n        weeks[i].healthy = totalPopulation - (weeks[i].currentlyInfected + weeks[i].recovered + weeks[i].dead); \n\n        if(weeks[i].currentlyInfected === 0 && !lastWeekNum) {\n            lastWeekNum = i;\n        }\n    }\n\n    return {\n        lastWeekNum,\n        weeks\n    };\n}\n\nexport function weightedAverage(p0: number, p1: number, w0: number, w1: number) {\n    return ((p0 * w0) + (p1 * w1)) / (w0 + w1);\n}\n\nfunction isShutdown(week, shutdowns) {\n    try {\n        return  shutdowns.some(shutdown => isWithinInterval(week, shutdown));\n    } catch {\n        return false;\n    }\n}","import { ControlState } from '../controls/controls';\nimport { Week, weightedAverage, generateData } from './data-generator';\nimport { differenceInCalendarWeeks } from 'date-fns';\n\nexport function getOptimalWeeks(state: ControlState) {\n    const {\n        totalPopulation,\n        totalHospitalBeds,\n        shutdownR0,\n        infectionStartDate\n    } = state;\n\n    let weeks = [new Week({\n        newInfected: 1,\n        totalInfected: 1,\n        currentlyInfected: 1,\n        healthy: totalPopulation - 1\n    })];\n\n    let shutdown = Array(104).fill(false);\n\n    if(shutdownR0 < 1) {\n        return getDeprecatingOptimalWeeks(state);\n    }\n\n\n    for(let i = 1; i< 104; i++) {\n        let current: Week, next: Week, next2: Week;\n        current = computeNextWeek(state, false,\n            weeks[i - 1], (i >= 2) ? weeks[i-2] : null, (i >= 3) ? weeks[i - 3] : null);\n        next = computeNextWeek(state, true,\n            current, weeks[i-1], (i >= 2) ? weeks[i-2] : null);\n        next2 = computeNextWeek(state, true,\n            next, current, weeks[i-1]);\n\n        if(current.hospitalized > totalHospitalBeds ||\n            next.hospitalized > totalHospitalBeds ||\n            next2.hospitalized > totalHospitalBeds) {\n                shutdown[i] = true;\n                weeks[i] = computeNextWeek(state, shutdown[i],\n                    weeks[i - 1], (i >= 2) ? weeks[i -2] : null, (i >= 3) ? weeks[i - 3] : null);\n        } else {\n            shutdown[i] = false;\n            weeks[i] = current;\n        }\n    }\n\n    return shutdown;\n}\n\nfunction computeNextWeek(state: ControlState, shutdown: boolean, prev: Week, prev2: Week, prev3: Week): Week {\n    let {\n        R0,\n        shutdownR0,\n        totalPopulation,\n        totalHospitalBeds,\n        mortalityRate,\n        mortalityRateOverflow,\n        hospitalizationRate\n    } = state;\n    mortalityRate = mortalityRate / 100;\n    mortalityRateOverflow = mortalityRateOverflow / 100;\n    hospitalizationRate = hospitalizationRate / 100;\n\n    let result: Week = new Week();\n    const r = (shutdown) ? shutdownR0 : R0;\n    const fractionHealthy = prev.healthy / totalPopulation;\n\n    // Mortality depends on how much overflow there is in the hospitals compared capacity\n    let mortality = (prev.hospitalized < totalHospitalBeds) ? mortalityRate :\n        weightedAverage(mortalityRate, mortalityRateOverflow,\n        totalHospitalBeds, prev.hospitalized - totalHospitalBeds);\n    \n    result.newInfected = Math.round(prev.newInfected * r * fractionHealthy);\n    // Last 2 week + current week's newly infected are still infected. \n    result.currentlyInfected = result.newInfected + prev.newInfected + ((prev2 != null) ? prev2.newInfected : 0);\n    result.totalInfected = prev.totalInfected + result.newInfected;\n    // 3 weeks later patients either die or recover.\n    if (prev3 != null) {\n        result.dead = prev.dead + prev3.newInfected * mortality;\n        result.recovered = prev.recovered + (prev3.newInfected *  ( 1 - mortality));\n    }\n    // We are considering that patients are in hopsital in their third week.\n    if (prev2 != null) {\n        result.hospitalized =  prev2.newInfected * hospitalizationRate;\n    } \n    result.healthy = totalPopulation - (result.currentlyInfected + result.recovered + result.dead);\n    return result; \n}\n\nfunction getDeprecatingOptimalWeeks(state: ControlState) {\n    let {\n        R0,\n        shutdownR0,\n        totalPopulation,\n        totalHospitalBeds,\n        infectionStartDate,\n        mortalityRateOverflow,\n        hospitalizationRate\n    } = state;\n    let { weeks } = generateData({ controls: state, shutdowns: []});\n    let currentWeekNum = differenceInCalendarWeeks(new Date(), infectionStartDate);\n    let currentNewInfected = weeks[currentWeekNum - 1].newInfected;\n\n    let shutdownsToZero = Math.ceil(-Math.log(currentNewInfected) / Math.log(shutdownR0));\n\n    let shutdown = Array(104).fill(false);\n    for(let i = currentWeekNum; i<currentWeekNum + shutdownsToZero - 1; i++) {\n        shutdown[i] = true;\n    }\n\n    return shutdown;\n}","import React from 'react';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport { Typography } from '@material-ui/core';\nimport Grid from '@material-ui/core/Grid';\n\ninterface Props {\n    title: string;\n    value: string;\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n        padding: theme.spacing(2),\n        paddingRight: theme.spacing(4),\n        flexGrow: 1\n    },\n    marginBottom: {\n        marginBottom: theme.spacing(2)\n    },\n    marginTop: {\n        marginTop: theme.spacing(2)\n    },\n    marginLeft: {\n        marginLeft: theme.spacing(2)\n    },\n    marginLeftAuto: {\n        marginLeft: 'auto'\n    }\n  }),\n);\n\nexport const Headline: React.FC<Props> = ({ title, value}) => {\n    const classes = useStyles();\n\n    return <Paper className={classes.root} elevation={3}>\n        <Grid container direction=\"column\" alignItems=\"flex-start\" spacing={3}>\n            <Grid item>\n                <Typography variant=\"body1\">{title}</Typography>\n            </Grid>\n            <Grid item>\n                <Typography variant=\"h5\">{value}</Typography>\n            </Grid>\n        </Grid>\n    </Paper>\n}","import React from 'react';\nimport 'date-fns';\nimport { Grid } from '@material-ui/core';\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport {Controls} from '../controls/controls';\nimport {Chart} from '../chart/chart';\nimport { Table } from '../table/table';\nimport {ShutdownRange, getNumShutdownWeeks} from '../shudown-range/shutdown-range';\nimport {useGenerateConfig} from './use-generate-config';\nimport {getOptimalWeeks} from './optimal-weeks-generator';\nimport {\n    MuiPickersUtilsProvider,\n } from '@material-ui/pickers';\nimport shortNum from 'short-number';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { Headline } from '../headline/headline';\n\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    grow: {\n        flexGrow: 1,\n        flexBasis: 0,\n        display: 'flex'\n    },\n    content: {\n        flex: '0 0 700px',\n        minHeight: 0,\n        display: 'flex',\n        marginBottom: theme.spacing(2)\n    },\n    marginBottom: {\n        marginBottom: theme.spacing(2)\n    }\n  }),\n);\n\nconst TABLE_COLUMNS = ['weekNum', 'healthy', 'newInfected', 'totalInfected', 'currentlyInfected', 'dead', 'hospitalized'];\n\nexport const Simulator: React.FC = () => {\n    const classes = useStyles();\n    const [\n        state, \n        {config, weeks, weeksToGo},\n        onControlChange, \n        onShutdownChange] = useGenerateConfig();\n    const [optimalWeeks, setOptimalWeeks] = React.useState<boolean[]>();\n\n    const computeOptimalWeeks = () => {\n        setOptimalWeeks(getOptimalWeeks(state.controls));\n    }\n\n    return (\n        <MuiPickersUtilsProvider utils={DateFnsUtils}>\n            <Grid container spacing={2} direction='row'>\n                <Grid item>\n                    <Controls onChange={onControlChange}></Controls>\n                </Grid>\n                <Grid item direction=\"column\" className={classes.grow} spacing={2}>\n                    <Grid item className={classes.marginBottom}>\n                        <ShutdownRange\n                            shutdownWeeks={optimalWeeks}\n                            startDate={state.controls.infectionStartDate}\n                            computeOptimalWeeks={computeOptimalWeeks}\n                            onChange={onShutdownChange}></ShutdownRange>\n                    </Grid>\n                    <Grid item container\n                        direction=\"row\" className={classes.marginBottom} spacing={2}>\n                        <Grid item className={classes.grow}> \n                            <Headline title=\"Total Shutdown\" value={`${getNumShutdownWeeks(state.shutdowns)} weeks`}></Headline>\n                        </Grid>\n                        <Grid item className={classes.grow}> \n                            <Headline title=\"Time before we play\" value={`${weeksToGo} weeks`}></Headline>\n                        </Grid>\n                        <Grid item className={classes.grow}>\n                            <Headline title=\"Deaths\" value={shortNum(weeks[weeks.length - 1].dead)}></Headline>\n                        </Grid>\n                    </Grid>\n                    <Grid item className={classes.content}>\n                        <Chart config={config}></Chart>\n                    </Grid>\n                    <Grid item className={classes.content}>\n                        <Table\n                            columns={TABLE_COLUMNS} \n                            data={weeks}></Table>\n                    </Grid>\n                </Grid>\n            </Grid>\n        </MuiPickersUtilsProvider>\n    )\n}","import React from 'react';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport './App.css';\n\nimport {Simulator} from './components/simulator/simulator';\nimport { Container } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      flexGrow: 1,\n    },\n    menuButton: {\n      marginRight: theme.spacing(2),\n    },\n    title: {\n      flexGrow: 1,\n    },\n    container: {\n      paddingTop: theme.spacing(2)\n    }\n  }),\n);\n\nfunction App() {\n  const classes = useStyles();\n\n  return (\n    <div className=\"App\">\n      <AppBar position=\"static\">\n        <Toolbar>\n          <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\n            <MenuIcon />\n          </IconButton>\n          <Typography variant=\"h6\" className={classes.title}>\n            COVID Simulator\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <Container maxWidth='lg' className={classes.container}>\n        <Simulator />\n      </Container>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.        xssadsaasdasdasdasdasdasdasdasdasd\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}